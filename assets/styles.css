:root{
  --bg-1:#060a16;
  --bg-2:#0b1220;
  --card: rgba(255,255,255,0.06);
  --card-border: rgba(255,255,255,0.12);
  --glass: rgba(255,255,255,0.06);
  --text:#e8ecf3;
  --muted:#9aa5b1;
  --accent:#6aa1ff;
  --accent-2:#9c70ff;
  --danger:#ff5d5d;
  --shadow: 0 8px 30px rgba(0,0,0,0.35);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0; font: 14px/1.45 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color:var(--text);
  background: radial-gradient(1200px 1200px at 15% 10%, #101a34 0%, var(--bg-2) 45%, var(--bg-1) 100%);
  background-attachment: fixed;
}

/* Layout */
.topbar{
  position:sticky; top:0; z-index:50;
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px; backdrop-filter: blur(12px);
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  border-bottom:1px solid var(--card-border);
}
.topbar .row{ display:flex; align-items:center; gap:10px; }
.topsearch{
  height:34px; width:320px; max-width:42vw;
  background: rgba(255,255,255,0.06);
  border:1px solid var(--card-border); border-radius:10px;
  color:var(--text); padding:0 10px; outline:none;
}

.layout{ display:grid; grid-template-columns: 240px 1fr; gap:16px; padding:16px; }
.sidebar{
  position:sticky; top:64px; align-self:start;
  padding:12px; border:1px solid var(--card-border); border-radius:16px; background:var(--glass); box-shadow: var(--shadow);
}
.nav-title{ font-weight:600; color:var(--muted); margin:6px 8px 10px; letter-spacing:.02em; }
.nav-item{
  padding:10px 12px; margin:4px 0; border-radius:10px; cursor:pointer; user-select:none;
  color:var(--text);
}
.nav-item.active, .nav-item:hover{
  background: linear-gradient(90deg, rgba(106,161,255,0.20), rgba(156,112,255,0.15));
  border:1px solid rgba(106,161,255,0.25);
}

.content{ min-height:70vh; }

/* Cards & UI */
.card{
  background: var(--glass);
  border:1px solid var(--card-border);
  border-radius:16px; box-shadow: var(--shadow);
}
.padded{ padding:16px; }
.section-title{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:10px; }
.section-title span:first-child{ font-weight:600; letter-spacing:.02em; }

.row{ display:flex; align-items:center; gap:8px; }
.col{ display:flex; flex-direction:column; gap:8px; }

input, button{
  font:inherit; border-radius:10px; border:1px solid var(--card-border);
  background: rgba(255,255,255,0.06); color:var(--text); height:36px; padding:0 10px;
}
input::placeholder{ color:#aab4c4; }

button{ cursor:pointer; transition: .15s ease; }
button:hover{ filter: brightness(1.06); }
button.primary{
  background: linear-gradient(180deg, var(--accent), var(--accent-2));
  border: none; color:white; font-weight:600; padding:0 14px; height:38px;
}
button.ghost{
  background: transparent;
  border:1px dashed var(--card-border);
}
button.danger{ background: rgba(255,93,93,0.2); border-color: rgba(255,93,93,0.35); color:#ffd1d1; }

.pill{
  display:inline-flex; align-items:center; height:24px; padding:0 8px; border-radius:999px;
  background: rgba(255,255,255,0.08); border:1px solid var(--card-border); color:var(--muted); font-size:12px;
}
.pill.small{ height:20px; font-size:11px; }

.list .item{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  padding:10px 0; border-bottom:1px dashed rgba(255,255,255,0.08);
}
.list .item:last-child{ border-bottom:none; }
.meta .title{ font-weight:600; }
.meta .sub{ color:var(--muted); font-size:12px; }

.files .item{ align-items:center; }
.files .row button{ height:30px; }

/* Home grid (desktop) */
.home-grid{
  display:grid; grid-template-columns: 1.1fr 1.6fr 1fr; gap:16px;
}

/* Chat list / bubbles */
.chatlist{ display:flex; flex-direction:column; gap:6px; }
.chatrow{
  display:grid; grid-template-columns: 36px 1fr; gap:8px; align-items:center;
  padding:8px; border-radius:12px; border:1px solid transparent;
}
.chatrow:hover{ background: rgba(255,255,255,0.05); border-color: var(--card-border); }
.chatrow.active{ background: linear-gradient(90deg, rgba(106,161,255,0.18), rgba(156,112,255,0.14)); border-color: rgba(106,161,255,0.3); }
.avatar{
  width:36px; height:36px; border-radius:10px; display:grid; place-items:center;
  background: rgba(255,255,255,0.08); border:1px solid var(--card-border); color:#cfe0ff; font-weight:700;
}

#messageList{ display:flex; flex-direction:column; gap:8px; min-height:160px; }
.msg{ display:flex; }
.bubble{
  background: rgba(255,255,255,0.08);
  border:1px solid var(--card-border);
  border-radius:12px; padding:10px 12px; max-width:100%;
}
.bubble .time{ color:var(--muted); font-size:11px; margin-top:4px; }

/* Tiles (mobile home) */
.tiles{
  display:grid; grid-template-columns: repeat(2,1fr); gap:12px; padding:12px;
}
.tile{
  display:flex; align-items:center; justify-content:center; gap:8px;
  height:84px; border-radius:14px; border:1px solid var(--card-border); background: var(--glass);
  font-weight:600; letter-spacing:.01em;
}

/* Toast */
.toast{
  position:fixed; left:50%; transform:translateX(-50%);
  bottom:20px; background: rgba(0,0,0,0.65); color:white; padding:10px 14px; border-radius:999px;
  opacity:0; pointer-events:none; transition:.2s ease; z-index:1000;
}
.toast.show{ opacity:1; }

/* Bottom nav (mobile) */
.bottom-nav{
  position:fixed; bottom:0; left:0; right:0; z-index:60;
  display:grid; grid-template-columns: repeat(5,1fr);
  background: rgba(8,12,24,0.8); backdrop-filter: blur(10px);
  border-top:1px solid var(--card-border);
}
.bn-item{
  display:flex; flex-direction:column; align-items:center; justify-content:center; gap:4px;
  height:58px; background:transparent; border:none; color:var(--muted);
}
.bn-item.active, .bn-item:hover{ color:white; }

/* Visibility helpers */
.only-desktop{ display:block; }
.only-mobile{ display:none; }

.m-header{
  display:none;
}

/* Inputs on iOS */
input{ appearance: none; -webkit-appearance: none; }

/* Responsive */
@media (max-width: 980px){
  .only-desktop{ display:none; }
  .only-mobile{ display:block; }
  .layout{ display:block; padding:12px; }
  .topbar{ display:none; }
  .m-header{
    display:flex; align-items:center; justify-content:space-between; gap:10px;
    padding:10px 12px; backdrop-filter: blur(12px);
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
    border-bottom:1px solid var(--card-border);
    position:sticky; top:0; z-index:50;
  }
  main.content{ padding-bottom:70px; } /* space for bottom nav */
}
